const defaultThumb = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAD6CAMAAAC4eeF2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY3NEE4MUZDNUIxQzExRTc5NDBFREIwMjk3RTczMkUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY3NEE4MUZENUIxQzExRTc5NDBFREIwMjk3RTczMkUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Njc0QTgxRkE1QjFDMTFFNzk0MEVEQjAyOTdFNzMyRTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Njc0QTgxRkI1QjFDMTFFNzk0MEVEQjAyOTdFNzMyRTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5hxon2AAABYlBMVEXy8vLx8fHw8PDv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';

/**
 * 创建缩略图
 *
 * @export
 * @param {any} video
 * @param {any} output
 * @param {any} scale
 */
export default function(video, output, scale) {
  scale || (scale = 0.8);
  try {
    let videoCanvas = document.createElement('canvas');
    videoCanvas.width = video.videoWidth * scale;
    videoCanvas.height = video.videoHeight * scale;
    videoCanvas.getContext('2d').drawImage(video, 0, 0, videoCanvas.width, videoCanvas.height);
    output.src = videoCanvas.toDataURL('image/png');
  } catch (e) {
    output.src = defaultThumb;
  }
}
